# Axite MCP Template

**Production-ready starter template for building ChatGPT MCP (Model Context Protocol) apps with Next.js, Better Auth OAuth 2.1, and optional Stripe subscriptions.**

Build powerful AI-native applications that integrate seamlessly with ChatGPT and Claude. This template provides everything you need to get started: authentication, database, example tools, widgets, and deployment configs.

## âœ¨ Features

- **ğŸ” OAuth 2.1 Authentication** - Better Auth with MCP plugin for ChatGPT/Claude integration
- **ğŸ’³ Optional Subscriptions** - Stripe integration with feature flags (easily disable if not needed)
- **ğŸ› ï¸ 5 Example MCP Tools** - CRUD operations, external APIs, calculations, subscription management
- **ğŸ¨ 4 Example Widgets** - Interactive UI components that render in ChatGPT
- **ğŸ“Š PostgreSQL + Redis** - Production-ready database setup with Drizzle ORM
- **ğŸ”’ Type-Safe** - End-to-end TypeScript with Zod validation
- **ğŸš€ Deploy Anywhere** - Vercel, Railway, or any Node.js hosting
- **ğŸ“ Comprehensive Docs** - Inline comments and guides for every component
- **ğŸ§ª Testing Setup** - Vitest + Playwright for integration and E2E tests

## ğŸš€ Quick Start

### Prerequisites

- Node.js 18+ and pnpm
- PostgreSQL database
- Redis instance
- (Optional) Stripe account for subscriptions

### 1. Clone and Install

```bash
git clone https://github.com/yourusername/axite-mcp-template.git
cd axite-mcp-template
pnpm install
```

### 2. Configure Environment

```bash
cp .env.example .env
```

Edit `.env` with your credentials. See `.env.example` for full documentation.

### 3. Setup Database

```bash
pnpm db:push
```

### 4. Run Development Server

```bash
pnpm dev
```

Your MCP server is now running at `http://localhost:3000/mcp`

## ğŸ“š What's Included

### MCP Tools (5 examples)

1. **`get_user_items`** - Fetch user's items (auth + subscription)
2. **`manage_item`** - CRUD operations (auth + subscription)
3. **`get_weather`** - External API integration (free, no auth)
4. **`calculate_roi`** - ROI calculator (free, no auth)
5. **`manage_subscription`** - Stripe billing (auth required)

### Widgets (4 examples)

- **user-items** - Data display
- **manage-item** - CRUD results
- **weather** - API visualization
- **roi-calculator** - Charts

### Services (3 examples)

- **ItemsService** - Database CRUD
- **WeatherService** - External APIs with caching
- **LoggerService** - Winston logging

## ğŸ› ï¸ Development

### Key Commands

```bash
pnpm dev              # Start dev server
pnpm build            # Production build
pnpm db:push          # Push schema to database
pnpm typecheck        # Type checking
pnpm test             # Run tests
```

### Project Structure

```
â”œâ”€â”€ app/mcp/route.ts       # MCP server
â”œâ”€â”€ app/widgets/           # Widget pages
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ services/          # Business logic
â”‚   â”œâ”€â”€ types/             # TypeScript types
â”‚   â””â”€â”€ utils/             # Helpers
â””â”€â”€ src/components/        # Widget components
```

## ğŸ“– Adding Your Own Tools

See [CLAUDE.md](CLAUDE.md) for comprehensive development guide.

Quick example:

```typescript
// app/mcp/route.ts
server.registerTool("my_tool", config, async ({ param }) => {
  const authCheck = await requireAuth(session, "my feature");
  if (authCheck) return authCheck;

  return createSuccessResponse("Success!", { data });
});
```

## ğŸ¨ Customization

### Disable Subscriptions

```env
ENABLE_SUBSCRIPTIONS=false
```

### Add Feature Flags

```typescript
// lib/config/features.ts
export const FEATURES = {
  MY_FEATURE: process.env.ENABLE_MY_FEATURE === "true",
};
```

## ğŸš€ Deployment

**Railway:**
```bash
railway up
```

**Vercel:**
```bash
vercel
```

See `docs/DEPLOYMENT.md` for details.

## ğŸ“„ License

MIT License - see LICENSE file.

## ğŸ™ Built With

- [Next.js](https://nextjs.org/)
- [Better Auth](https://better-auth.com/)
- [Drizzle ORM](https://orm.drizzle.team/)
- [MCP SDK](https://github.com/modelcontextprotocol/sdk)
- [OpenAI Apps SDK](https://platform.openai.com/docs/apps)

---

**Ready to build?** Clone and customize! ğŸš€
